package org.delfos.mirth.hie;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;

import org.apache.log4j.Logger;

import ca.uhn.hl7v2.HL7Exception;
import ca.uhn.hl7v2.util.Terser;

public class A17Step02FileTransformer extends A17FileTransformer {
	
	public static final Logger log = Logger.getLogger(A17Step02FileTransformer.class);

	@Override
	protected void copyPID(Terser src, Terser dest) throws HL7Exception{
		
		String[] pid2Spec = {"/PID2-1", "/PID2-2-1", "/PID2-2-1", "/PID2-2-2",
				"/PID2-2-3", "/PID2-2-4-1", "/PID2-2-4-2", "/PID2-2-4-3",
				"/PID2-2-5", "/PID2-2-6-1", "/PID2-2-6-2", "/PID2-2-6-3", 
				"/PID2-3-1", "/PID2-3-2", "/PID2-3-3", "/PID2-3-4-1", "/PID2-3-4-2", 
				"/PID2-3-4-3", "/PID2-3-5", "/PID2-3-6-1", "/PID2-3-6-2", 
				"/PID2-3-6-3", "/PID2-4(0)-1", "/PID2-4(0)-2",
				"/PID2-4(0)-3", "/PID2-4(0)-4-1", "/PID2-4(0)-4-2", "/PID2-4(0)-4-3",
				"/PID2-4(0)-5", "/PID2-4(0)-6-1", "/PID2-4(0)-6-2", "/PID2-4(0)-6-3",
				"/PID2-5(0)-1-1", "/PID2-5(0)-1-2", "/PID2-5(0)-2", "/PID2-5(0)-3",
				"/PID2-5(0)-4", "/PID2-5(0)-5", "/PID2-5(0)-6", "/PID2-5(0)-7",
				"/PID2-5(0)-8", "/PID2-6(0)-1-1", "/PID2-6(0)-1-2", "/PID2-6(0)-2", 
				"/PID2-6(0)-3", "/PID2-6(0)-4", "/PID2-6(0)-5", "/PID2-6(0)-6", 
				"/PID2-6(0)-7", "/PID2-6(0)-8", "/PID2-7-1", "/PID2-7-2",
				"/PID2-8", "/PID2-9(0)-1-1", "/PID2-9(0)-1-2", "/PID2-9(0)-2", 
				"/PID2-9(0)-3", "/PID2-9(0)-4", "/PID2-9(0)-5", "/PID2-9(0)-6", 
				"/PID2-9(0)-7", "/PID2-9(0)-8", "/PID2-10-1", "/PID2-10-2", 
				"/PID2-10-3", "/PID2-10-4", "/PID2-10-5", "/PID2-10-6", "/PID2-11(0)-1",
				"/PID2-11(0)-2", "/PID2-11(0)-3", "/PID2-11(0)-4", "/PID2-11(0)-5",
				"/PID2-11(0)-6", "/PID2-11(0)-7", "/PID2-11(0)-8", "/PID2-11(0)-9",
				"/PID2-11(0)-10", "/PID2-11(0)-11", "/PID2-12", "/PID2-13(0)-1",
				"/PID2-13(0)-2", "/PID2-13(0)-3", "/PID2-13(0)-4", "/PID2-13(0)-5",
				"/PID2-13(0)-6", "/PID2-13(0)-7", "/PID2-13(0)-8", "/PID2-13(0)-9",
				"/PID2-14(0)-1", "/PID2-14(0)-2", "/PID2-14(0)-3", "/PID2-14(0)-4", 
				"/PID2-14(0)-5", "/PID2-14(0)-6", "/PID2-14(0)-7", "/PID2-14(0)-8", 
				"/PID2-14(0)-9", 
				"/PID2-15-1", "/PID2-15-2", "/PID2-15-3","/PID2-15-4", "/PID2-15-5", 
				"/PID2-15-6",
				"/PID2-16-1", "/PID2-16-2", 
				"/PID2-16-3", "/PID2-16-4", "/PID2-16-5", "/PID2-16-6", "/PID2-17-1", 
				"/PID2-17-2", "/PID2-17-3", "/PID2-17-4", "/PID2-17-5", "/PID2-17-6",
				"/PID2-18-1", "/PID2-18-1", "/PID2-18-2",
				"/PID2-18-3", "/PID2-18-4-1", "/PID2-18-4-2", "/PID2-18-4-3",
				"/PID2-18-5", "/PID2-18-6-1", "/PID2-18-6-2", "/PID2-18-6-3",
				"/PID2-19", 
				"/PID2-20-1", "/PID2-20-2", "/PID2-20-3",
				"/PID2-21-1", "/PID2-21-1", "/PID2-21-2", "/PID2-21-3", "/PID2-21-4-1", 
				"/PID2-21-4-2", "/PID2-21-4-3", "/PID2-21-5", "/PID2-21-6-1", 
				"/PID2-21-6-2", "/PID2-21-6-3",
				"/PID2-22-1", "/PID2-22-2", "/PID2-22-3","/PID2-22-4", "/PID2-22-5", 
				"/PID2-22-6",
				"/PID2-23",
				"/PID2-24",
				"/PID2-25",
				"/PID2-26(0)-1", "/PID2-26(0)-2", "/PID2-26(0)-3","/PID2-26(0)-4", 
				"/PID2-26(0)-5", "/PID2-26(0)-6",
				"/PID2-27-1", "/PID2-27-2", "/PID2-27-3","/PID2-27-4", "/PID2-27-5", 
				"/PID2-27-6",
				"/PID2-28-1", "/PID2-28-2", "/PID2-28-3","/PID2-28-4", "/PID2-28-5", 
				"/PID2-28-6",
				"/PID2-29",
				"/PID2-30"
				};
		
		for(int i = 0; i < pid2Spec.length; i++ ){
			dest.set(pidSpec[i], src.get(pid2Spec[i]));
		}
		
	}
	@Override
	protected void copyPV1(Terser src, Terser dest) throws HL7Exception{
		
		String[] pv12Spec = {
				"PV12-1",
				"PV12-2",
				"PV12-3-1", "PV12-3-2", "PV12-3-3", "PV12-3-4-1", "PV12-3-4-2",
				"PV12-3-4-3", "PV12-3-5", "PV12-3-6", "PV12-3-7", "PV12-3-8",
				"PV12-3-9",
				"PV12-4",
				"PV12-5-1", "PV12-5-2", "PV12-5-3", "PV12-5-4-1", "PV12-5-4-2",
				"PV12-5-4-3", "PV12-5-5", "PV12-5-6-1", "PV12-5-6-2", "PV12-5-6-3",
				"PV12-6-1", "PV12-6-2", "PV12-6-3", "PV12-6-4-1", "PV12-6-4-2",
				"PV12-6-4-3", "PV12-6-5", "PV12-6-6", "PV12-6-7", "PV12-6-8",
				"PV12-6-9",
				"PV12-7(0)-1", "PV12-7(0)-2-1", "PV12-7(0)-2-2", "PV12-7(0)-3",
				"PV12-7(0)-4", "PV12-7(0)-5", "PV12-7(0)-6", "PV12-7(0)-7",
				"PV12-7(0)-8", "PV12-7(0)-9-1", "PV12-7(0)-9-2", "PV12-7(0)-9-3",
				"PV12-7(0)-10", "PV12-7(0)-11", "PV12-7(0)-12", "PV12-7(0)-13",
				"PV12-7(0)-14-1", "PV12-7(0)-14-2", "PV12-7(0)-14-3", "PV12-7(0)-15",
				"PV12-8(0)-1", "PV12-8(0)-2-1", "PV12-8(0)-2-2", "PV12-8(0)-3",
				"PV12-8(0)-4", "PV12-8(0)-5", "PV12-8(0)-6", "PV12-8(0)-7",
				"PV12-8(0)-8", "PV12-8(0)-9-1", "PV12-8(0)-9-2", "PV12-8(0)-9-3",
				"PV12-8(0)-10", "PV12-8(0)-11", "PV12-8(0)-12", "PV12-8(0)-13",
				"PV12-8(0)-14-1", "PV12-8(0)-14-2", "PV12-8(0)-14-3", "PV12-8(0)-15",
				"PV12-9(0)-1", "PV12-9(0)-2-1", "PV12-9(0)-2-2", "PV12-9(0)-3",
				"PV12-9(0)-4", "PV12-9(0)-5", "PV12-9(0)-6", "PV12-9(0)-7",
				"PV12-9(0)-8", "PV12-9(0)-9-1", "PV12-9(0)-9-2", "PV12-9(0)-9-3",
				"PV12-9(0)-10", "PV12-9(0)-11", "PV12-9(0)-12", "PV12-9(0)-13",
				"PV12-9(0)-14-1", "PV12-9(0)-14-2", "PV12-9(0)-14-3", "PV12-9(0)-15",
				"PV12-10",
				"PV12-11-1", "PV12-11-2", "PV12-11-3", "PV12-11-4-1", "PV12-11-4-2",
				"PV12-11-4-3", "PV12-11-5", "PV12-11-6", "PV12-11-7", "PV12-11-8",
				"PV12-11-9",
				"PV12-12",
				"PV12-13",
				"PV12-14",
				"PV12-15(0)",
				"PV12-16",
				"PV12-17(0)-1", "PV12-17(0)-2-1", "PV12-17(0)-2-2", "PV12-17(0)-3",
				"PV12-17(0)-4", "PV12-17(0)-5", "PV12-17(0)-6", "PV12-17(0)-7",
				"PV12-17(0)-8", "PV12-17(0)-9-1", "PV12-17(0)-9-2", "PV12-17(0)-9-3",
				"PV12-17(0)-10", "PV12-17(0)-11", "PV12-17(0)-12", "PV12-17(0)-13",
				"PV12-17(0)-14-1", "PV12-17(0)-14-2", "PV12-17(0)-14-3", "PV12-17(0)-15",
				"PV12-18",
				"PV12-19-1", "PV12-19-2", "PV12-19-3", "PV12-19-4-1", "PV12-19-4-2",
				"PV12-19-4-3", "PV12-19-5", "PV12-19-6-1", "PV12-19-6-2", "PV12-19-6-3",
				"PV12-20(0)-1", "PV12-20(0)-2",
				"PV12-21",
				"PV12-22",
				"PV12-23",
				"PV12-24(0)",
				"PV12-25(0)",
				"PV12-26(0)",
				"PV12-27(0)",
				"PV12-28",
				"PV12-29",
				"PV12-30",
				"PV12-31",
				"PV12-32",
				"PV12-33",
				"PV12-34",
				"PV12-35",
				"PV12-36",
				"PV12-37-1", "PV12-37-2",
				"PV12-38-1", "PV12-38-2", "PV12-38-3", "PV12-38-4", "PV12-38-5",
				"PV12-38-6",
				"PV12-39",
				"PV12-40",
				"PV12-41",
				"PV12-42-1", "PV12-42-2", "PV12-42-3", "PV12-42-4-1", "PV12-42-4-2",
				"PV12-42-4-3", "PV12-42-5", "PV12-42-6", "PV12-42-7", "PV12-42-8",
				"PV12-42-9",
				"PV12-43-1", "PV12-43-2", "PV12-43-3", "PV12-43-4-1", "PV12-43-4-2",
				"PV12-43-4-3", "PV12-43-5", "PV12-43-6", "PV12-43-7", "PV12-43-8",
				"PV12-43-9",
				"PV12-44",
				"PV12-45",
				"PV12-46",
				"PV12-47",
				"PV12-48",
				"PV12-49",
				"PV12-50-1", "PV12-50-2", "PV12-50-3", "PV12-50-4-1", "PV12-50-4-2",
				"PV12-50-4-3", "PV12-50-5", "PV12-50-6-1", "PV12-50-6-2", "PV12-50-6-3",
				"PV12-51",
				"PV12-52(0)-1", "PV12-52(0)-2-1", "PV12-52(0)-2-2", "PV12-52(0)-3",
				"PV12-52(0)-4", "PV12-52(0)-5", "PV12-52(0)-6", "PV12-52(0)-7",
				"PV12-52(0)-8", "PV12-52(0)-9-1", "PV12-52(0)-9-2", "PV12-52(0)-9-3",
				"PV12-52(0)-10", "PV12-52(0)-11", "PV12-52(0)-12", "PV12-52(0)-13",
				"PV12-52(0)-14-1", "PV12-52(0)-14-2", "PV12-52(0)-14-3", "PV12-52(0)-15"				
		};
		
		for(int i = 0; i < pv12Spec.length; i++){
			dest.set(pv1Spec[i], src.get(pv12Spec[i]));			
		}
		
	}
	
	public static void main(String[] args) throws Exception{
		
		
		File hl7File = new File("e:/tmp/1344440074853_A17.ADM");
		File result = new File("e:/tmp/result.txt");		
		
		FileInputStream fis = new FileInputStream(hl7File);
		FileOutputStream fos = new FileOutputStream(result);		
		
		new A17Step02FileTransformer().transform(fis, fos);		
		
	}

}
